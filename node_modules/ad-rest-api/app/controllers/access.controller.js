
const responder = require('../sender/response.sender');

const accessService = require('../service/access.service');
let joi = require('joi');
let accessModal = require('../models/access.modal');
let sliderHomepageController = {
      isValidLogin : validateLogin
    , post         : registerEmployee
}

module.exports = sliderHomepageController;

function validateLogin(req , res){
    console.log("here::::::",[req]);
    
    accessService.validateLogin(req,res,function (err,result){
        if(err == "Invalid Login"){
            responder.invalidLogin(res);
        }
        else{
            responder.response(err,result,res);
        }
    });
}


function registerEmployee(req, res) {
    console.log('heree',req.body);
    
    joi.validate(req.body, accessModal.body, function (err, value) {
        if (err) {
            responder.valiodationFail(res);
        }
        else {            
            accessService.employeeRegister(req,function(err, result){
                responder.response(err,result,res);
            });
        }
    });                    
}
